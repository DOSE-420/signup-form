<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Feed</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            color: #333; /* Text color */
            background-color: rgb(255, 255, 255); /* Background color */
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .navbar {
            width: 100%;
            height: 25px;
            background-color: #ffffff;
            color: white;
            padding: 10px 0;
            text-align: center;
            position: fixed; /* Make the navbar fixed */
            top: 0; /* Stick it to the top */
            box-shadow: 0 10px 10px rgba(0, 0, 0, 0.1); /* Add shadow */
            z-index: 1000; /* Ensure it's on top of other content */
        }

        .footer-basic {
  padding:40px 0;
  background-color:#ffffff;
  color:#4b4c4d;
}


/* Style for the Create New Post button */
.navbar li#create-post-btn {
    margin-left: auto; /* Pushes the button to the right */
}

.navbar li#create-post-btn a {
    background-color: #2ba8fb;
    color: #fff;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.navbar li#create-post-btn a:hover {
    background-color: #6fc5ff;
}

/* Style for the Create New Post button */
.navbar li#logout-btn {
    margin-left: auto; /* Pushes the button to the right */
}

.navbar li#logout-btn a {
    background-color: #2ba8fb;
    color: #fff;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

.navbar li#logout-btn a:hover {
    background-color: #6fc5ff;
}


.footer-basic ul {
  padding:0;
  list-style:none;
  text-align:center;
  font-size:18px;
  line-height:1.6;
  margin-bottom:0;
}

.footer-basic li {
  padding:0 10px;
}

.footer-basic ul a {
  color:inherit;
  text-decoration:none;
  opacity:0.8;
}

.footer-basic ul a:hover {
  opacity:1;
}

.footer-basic .social {
  text-align:center;
  padding-bottom:25px;
}

.footer-basic .social > a {
  font-size:24px;
  width:40px;
  height:40px;
  line-height:40px;
  display:inline-block;
  text-align:center;
  border-radius:50%;
  border:1px solid #ccc;
  margin:0 8px;
  color:inherit;
  opacity:0.75;
}

.footer-basic .social > a:hover {
  opacity:0.9;
}

.footer-basic .copyright {
  margin-top:15px;
  text-align:center;
  font-size:13px;
  color:#aaa;
  margin-bottom:0;
}

        .toggle-chat-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 10px;
    background-color: #2ba8fb;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    z-index: 1001; /* Ensure button is above chat box */
}

.chat-support {
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 300px;
    background-color: #e2e2e2;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.chat-support.show {
    display: block;
}

.chat-input {
    width: calc(100% - 80px);
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.send-btn {
    width: 70px;
    padding: 10px;
    margin: 10px 5px;
    background-color: #2ba8fb;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.send-btn:hover {
    background-color: #6fc5ff;
}

.send-btn:active {
    background-color: #3d94cf;
}

        .navbar ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        .navbar li {
            display: inline;
            margin: 0 10px;
        }
        .navbar li a {
            color: rgb(0, 0, 0);
            text-decoration: none;
        }
        .container-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 50px; /* Add padding to accommodate the fixed navbar */
        }
        .container {
            width: 900px; /* Width of the content */
            padding: 20px;
            height: 268px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #fff;
            margin-bottom: 20px; /* Add some space between containers */
            display: flex; /* Use flexbox */
            object-fit: cover;
            align-items: center; /* Align items vertically */
        }
        .container img {
            max-width: 320px; /* Adjust width of the image */
            height: 268px;
            object-fit: cover;
            border-radius: 5px;
            margin-right: 20px; /* Add some space between image and text */
        }
        .article {
            flex: 1; /* Allow the text to take up remaining space */
        }
        
        button {
  padding: 12.5px 30px;
  border: 0;
  border-radius: 100px;
  background-color: #ac0909;
  color: #ffffff;
  font-weight: normal;
  transition: all 0.5s;
  -webkit-transition: all 0.5s;
}

button:hover {
  background-color: #6fc5ff;
  box-shadow: 0 0 20px #6fc5ff50;
  transform: scale(1.1);
}

button:active {
  background-color: #3d94cf;
  transition: all 0.25s;
  -webkit-transition: all 0.25s;
  box-shadow: none;
  transform: scale(0.98);
}

/* Add styles for chat messages */
.message {
    display: flex;
    align-items: flex-start;
    margin-bottom: 10px;
}

.message-content {
    max-width: 70%; /* Adjust width as needed */
    padding: 10px;
    border-radius: 15px;
    background-color: #e5e5ea; /* Bubble color */
    color: #333; /* Text color */
}

.response-message {
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
}

/* Style for automated response */
.response-message .message-content {
    max-width: 70%; /* Adjust width as needed */
    padding: 10px;
    border-radius: 15px;
    background-color: #2ba8fb; /* Bubble color for automated response */
    color: #fff; /* Text color for automated response */
}

    .hidden {
        display: none;
     }

     /* Add styles for guest profile picture */
.profile-pic {
    width: 40px; /* Adjust size as needed */
    height: 40px; /* Adjust size as needed */
    border-radius: 50%; /* Make it circular */
    margin-right: 10px;
    object-fit: cover;
}

    </style>
</head>
<body>
    <div class="navbar">
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Profile</a></li>
            <li><a href="#">Messages</a></li>
            <li><a href="#">Notifications</a></li>
            <li id="create-post-btn"><a href="#" onclick="createNewPost()">Create New Post</a></li>
            <li id="logout-btn"><a href="#" onclick="logout()">Logout</a></li>
        </ul>
    </div>
    <div class="container-wrapper">
        <div class="container">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Butter now listed on dangerous food list.</h2>
                <p>This is a sample news article. It could contain important information or updates about current events. It has been reported that all of the belongings of the deceased have been transferred to their relatives and family to have a closer look at their remains</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on 7:15 PM | May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container">
            <img src="https://assets-api.kathmandupost.com/thumb.php?src=https://assets-cdn.kathmandupost.com/uploads/source/news/2023/third-party/thumbphp-1675795780.jpg&w=900&height=601" alt="Sample Image">
            <div class="article">
                <h2>Kailash Sirohiya arrested on alleged dual citizenship incident</h2>
                <p>This is a sample news article. It could contain important information or updates about current events. It has been reported that all of the belongings of the deceased have been transferred to their relatives and family to have a closer look at their remains</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: eKantipur</div>
            </div>
        </div>
        <div class="container">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://as1.ftcdn.net/v2/jpg/04/33/74/92/1000_F_433749289_JqKUv3aLsQ5zeEXMAR48w3s3YiP7jidt.jpg" alt="Sample Image">
            <div class="article">
                <h2>Dipti Parajuli found unconscious in a rollercoaster incident which took in the Balen city</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Routine of Nepal banda</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="container hidden">
            <img src="https://static.tnn.in/thumb/msid-110290932,thumbsize-53630,width-1280,height-720,resizemode-75/110290932.jpg" alt="Sample Image">
            <div class="article">
                <h2>Plane airbound to Malaysia crashes in Indonesia</h2>
                <p>This is a sample news article. It could contain important information or updates about current events.</p>
                <div class="footer"><i class="fas fa-newspaper"></i> Published on May 22, 2024</div>
                <div class="footer"><i class="fas fa-info-circle"></i> Source: Saugat Sharma</div>
            </div>
        </div>
        <div class="load-more">
            <button onclick="showHiddenContainers()">Load More</button>
        </div>
    </div>

        <!-- Button to toggle chat box -->
        <button class="toggle-chat-btn" onclick="toggleChatBox()">
            <i class="fas fa-comments"></i> <!-- Font Awesome bubble conversation icon -->
        </button>
    
        <!-- Chat support box -->
        <div class="chat-support" id="chat-support">
            <div class="chat-header">
                <i class="fas fa-comments"></i> <!-- Font Awesome bubble conversation icon -->
            </div>
            <div class="chat-body">
                <!-- Chat messages will be displayed here -->
            </div>
            <input type="text" class="chat-input" placeholder="Type your message...">
            <button class="send-btn" id="messageInput" onclick="sendMessage()">Send</button>
        </div>
        
        <div class="footer-basic">
            <footer>
                <div class="social"><a href="#"><i class="icon ion-social-instagram"></i></a><a href="#"><i class="icon ion-social-snapchat"></i></a><a href="#"><i class="icon ion-social-twitter"></i></a><a href="#"><i class="icon ion-social-facebook"></i></a></div>
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="#">Home</a></li>
                    <li class="list-inline-item"><a href="#">About</a></li>
                    <li class="list-inline-item"><a href="#">Terms</a></li>
                    <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
                </ul>
                <p class="copyright">Samachar Â© 2024</p>
            </footer>
    <script>
        function showHiddenContainers() {
            const hiddenContainers = document.querySelectorAll('.hidden');
            hiddenContainers.forEach(container => container.classList.remove('hidden'));
            document.querySelector('.load-more').style.display = 'none';
        }
    </script>

<script>
    <!-- Your JavaScript code here -->

        // Function to toggle chat box visibility
        function toggleChatBox() {
            var chatBox = document.getElementById('chat-support');
            chatBox.classList.toggle('show');
        }

        function sendMessage() {
    var messageInput = document.getElementById('messageInput');
    var message = messageInput.value.trim();
    if (message !== '') {
        // Send the message to the backend API
        fetch('/send-message', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ senderName: 'User', message: message })
        })
        .then(response => {
            if (response.ok) {
                // If message sent successfully, add it to the chat box
                appendMessage('User', message);
                // Clear input field after sending message
                messageInput.value = '';
            } else {
                console.error('Failed to send message');
            }
        })
        .catch(error => console.error('Error sending message:', error));
    }
}

        // Function to append a message to the chat box
        function appendMessage(senderName, message) {
            var chatBody = document.querySelector('.chat-body');
            // Create a new message element
            var newMessage = document.createElement('div');
            newMessage.classList.add('message');
            // Create a profile picture for the sender
            var profilePic = document.createElement('img');
            profilePic.src = 'https://example.com/profile-pic.jpg'; // Replace with the actual URL of the profile picture
            profilePic.alt = senderName + ' Profile';
            profilePic.classList.add('profile-pic');
            newMessage.appendChild(profilePic);
            // Create a message content element
            var messageContent = document.createElement('div');
            messageContent.textContent = message;
            messageContent.classList.add('message-content');
            newMessage.appendChild(messageContent);
            // Append the new message to the chat body
            chatBody.appendChild(newMessage);
        }

        // Add event listener to close chat box when clicking outside
        document.addEventListener('click', function(event) {
            var chatBox = document.getElementById('chat-support');
            var toggleBtn = document.querySelector('.toggle-chat-btn');
            // Check if the click target is outside of the chat box and toggle button
            if (!chatBox.contains(event.target) && !toggleBtn.contains(event.target)) {
                // If so, hide the chat box
                chatBox.classList.remove('show');
            }
        });



</script>

</body>
</html>
